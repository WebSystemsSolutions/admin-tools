# admin-tools


Набор инструментов  для административных задач:

#### 1.1 Ридер логов
> /Service/LogPageReader

Позволяет постраничное чтение текстовых логов (удобно в случае лога большого размера)  начиная с конца (последних добавленных строк).

Может использоваться для мониторинга состояния различных текстовых логов.

__Пример использования:__
```php
$logReader = new LogPageReader('/var/www/logs/test-log', 5 * 1024);

// Чтение 1 страницы (самого конца лога)
$page1 = $logReader->getLogContent();
// получаем смещение для чтения следующей страницы
$prevOffset = $logReader->getLastOffset();

// Чтение 2 страница (движение с конца файла)
// устанавливаем смещение предыдущей страницы
$logReader->setLastOffset($prevOffset);
$page2 = $logReader->getLogContent();
// получаем смещение для чтения следующей страницы
$prevOffset = $logReader->getLastOffset();
```

#### 2.1 Получение показателей работы сервера
> /Server/OsMonitoring

Компонент состоит из набора классов сенсоров `/Server/Sensors/...`, каждый из которых возвращает один из показателей работы сервера:
- показатели загрузки процессора
- показатели использования оперативной памяти
- показатели файловой системы

Может использоваться для мониторинга работы сервера.

__Пример использования:__
```php
// можно задать список получаемых показателей - по умолчанию все доступные
$sensorList = null;
$stat = new OsMonitoring($sensorList);

// получения показаний
foreach ($stat->getMeters() as $key => $meter) {
    echo $key . ' : ' . $meter . PHP_EOL;
}

```